<html>
    <head>
        <meta charset = "UTF-8">
        <meta http-equiv = "X-UA-Compatible" content = "IE=edge">
        <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
        <title> Chennai Water Data - Lake Level - Red Hills </title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js" integrity="sha512-ElRFoEQdI5Ht6kZvyzXhYG9NqjtkmlkfYk0wr6wHxU9JEHakS7UJZNeml5ALk+8IKlU6jDgMabC3vkumRokgJA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> 
        <style>
            body {
                background-color: #bfd9bf;
        }
            table {
                border: 1px solid black;
                border-collapse: collapse;
                
        }
            th, td {
                border: 1px solid black;
                width:50px;
                text-align:center;
                border:1px solid black;
                padding:5px
        }
            th{
            text-align: center;
            background-color: #556c2f;
            color:white;
        }
            td{
            text-align: center;
        }
            .year{
            font-weight: bold;
        }
        </style>
        
    </head>
    <body>
        <center> <h1> Monthly Lake Level of Red Hills </h1> </center>
        <center> <p> In this page, you will see the Monthly Lake Level in Chennai's Red Hills Reservoir (in Mcft - million cubic feet) from 2003 - 2021 </p> </center>
    
        <center>
        <table> 
            <tbody> 
                <tr>
                    <th>Year</th>
                    <th>January</th>
                    <th>February</th>
                    <th>March</th>
                    <th>April</th>
                    <th>May</th>
                    <th>June</th>
                    <th>July</th>
                    <th>August</th>
                    <th>September</th>
                    <th>October</th>
                    <th>November</th>
                    <th>December</th>
                </tr>
                {% for row in value %}  
                <tr> 
                    <td class = "year">{{row[0]}}</td>
                    <td>{{row[1]}}</td> 
                    <td>{{row[2]}}</td> 
                    <td>{{row[3]}}</td> 
                    <td>{{row[4]}}</td> 
                    <td>{{row[5]}}</td> 
                    <td>{{row[6]}}</td>
                    <td>{{row[7]}}</td>
                    <td>{{row[8]}}</td>
                    <td>{{row[9]}}</td>
                    <td>{{row[10]}}</td>
                    <td>{{row[11]}}</td>
                    <td>{{row[12]}}</td>
                </tr> 
                {% endfor %} 
            </tbody> 
        </table> 
        <br>
        <canvas id="barChart" style="width:20px;"></canvas>
            <script>
                const ctx = document.getElementById("barChart").getContext("2d");
                const barChart = new Chart(ctx, {
                    type: "bar",
                    data: {
                        labels: ['2003', '2004', '2005', '2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021'],
                        datasets: [{
                            label: "Lake Level - Red Hills Reservoir in December every year (in Mcft)",
                            data: {{ y | safe }},
                            backgroundColor: [
                                'LawnGreen',
                                'Indigo',
                                'HotPink',
                                'GoldenRod',
                                'LightCoral',
                                'LightBlue',
                                'LemonChiffon',
                                'MediumVioletRed',
                                'MediumTurquoise',
                                'Olive',
                                'Orchid',
                                'PaleGreen',
                                'PeachPuff',
                                'Plum',
                                'Salmon',
                                'SlateBlue',
                                'SpringGreen',
                                'Wheat',
                                'Yellow'
                            ],
                            borderColor: [
                                'LawnGreen',
                                'Indigo',
                                'HotPink',
                                'GoldenRod',
                                'LightCoral',
                                'LightBlue',
                                'LemonChiffon',
                                'MediumVioletRed',
                                'MediumTurquoise',
                                'Olive',
                                'Orchid',
                                'PaleGreen',
                                'PeachPuff',
                                'Plum',
                                'Salmon',
                                'SlateBlue',
                                'SpringGreen',
                                'Wheat',
                                'Yellow'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            </script>
        </center>
    
    </body>
</html>